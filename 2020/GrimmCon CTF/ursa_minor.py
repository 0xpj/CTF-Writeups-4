from Crypto.Util.number import *
import gmpy2
from flag import flag

p1 = getPrime(512)
p2 = gmpy2.next_prime(p1)

q1 = getPrime(512)
q2 = gmpy2.next_prime(q1)

e = 65537
n = p1*p2*q1*q2

phi = (p1-1)*(p2-1)*(q1-1)*(q2-1)

d = gmpy2.invert(e,phi)
c = pow(bytes_to_long(flag),e,n)

print(pow(p1+q2,65537,n))
# 398252619483683824208093039597836265273778193775452125486083957551176278955588603424382113352710169479616993356563246060297924726118755378162547972497203666783646825044792869789367592576101574240371232670041095323873815667220232166809718137345136595798348475735908256021322670005418631394583122459032655762364288810827803115908321250435457175905712979368682375068686209772133473838897439383295403324607156360876984627813009766211525333606444972806878336887056035185998200573544832093398660265425924982743864102276821222867334283529932237647313803451482353251074016798187942056356091197084798538413935627985814463821
print(pow(p2+q1,65537,n))
# 3410295570267284495666716727539407977193450790225500234668121370457128738387844754387834358089857392143065791989258458770907773673312366653548795501656286758760833062184533946747184480410739243127623931928060657407716009853627544883978306133957932359280020497802590423069552666222854138441481675841928575121215754381077691228683674670792584993458680984125707614439231892950587579431126810311915034810835760636417442300280872749013765170361371141076907170823313748527831933098747012888801849736094259962946578680473948587043493082901608193920413112219943477491938268136063681286891870415248205672153308707180700561799
print(n)
# 4835750187736017002199910402633824276307631898091000077771942652114774929553132338780864979244300002934950340799255707706719068807452407480611171357191437808195657961280485410190950021251938036710663784185407986885413060120305830667265752106891991907683349203859430029804970061705163529856022394765039070626284349963490115392327176993981111921903099443600754324722527818078282290124479202829123212555658572674854964849787146566576353289029751920324001899153487870430173605050309512383603908334958874100463419711909679461073160404554664143408055364570826428967757690953156967295496007885336849722190950712736684455537
print(c)
# 3082489874584540355861976440154957444349802968606358209180310319846045010290428219945114844043901302597650924982910286231671337430936664185809669066762817535499514756463968189674472801536320141026694560204079394058935377378137004712487812117718010360346278762378192809353855702825349327607244514852447790414426389507325928721778099789473656709278135098915643867190345991798884214391389207351837734104494534915592459046635480167584016281186038004020937047971991512996625468347184973943467542720967761335734799148698672931984386755418194996569343120441376243026639952906891084792796113007934063427372263145841708494015